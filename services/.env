# IRIS v2.0 Context Memory Infrastructure Environment Configuration
# Copy this file to .env and update the values
# Generated by MiniMax Agent - 2025-11-10

# ====================
# REQUIRED CONFIGURATION
# ====================

# OpenAI API Key (REQUIRED)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=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

# ====================
# DATABASE CONFIGURATION
# ====================

# PostgreSQL Configuration
DATABASE_URL=postgresql://iris_user:IrisSecure2025@postgres:5432/iris_context_db
POSTGRES_USER=iris_user
POSTGRES_PASSWORD=IrisSecure2025@Production
POSTGRES_DB=iris_production_db

# ====================
# GRAPH DATABASE
# ====================

# Neo4j Configuration
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=iris_secure_2025

# ====================
# CACHE CONFIGURATION
# ====================

# Redis Configuration
REDIS_URL=redis://:RedisSecure2025@redis:6379
REDIS_PASSWORD=RedisSecure2025@Cache

# ====================
# MESSAGE QUEUE
# ====================

# Apache Kafka Configuration
KAFKA_BROKERS=kafka:9092
KAFKA_AUTO_CREATE_TOPICS_ENABLE=true
KAFKA_NUM_PARTITIONS=6

# ====================
# APPLICATION CONFIGURATION
# ====================

# Runtime Environment
NODE_ENV=production
LOG_LEVEL=info

# Security Configuration
JWT_SECRET=iris_jwt_production_secret_2025_secure
ENCRYPTION_KEY=iris_encryption_key_production_32chars

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://your-domain.com

# ====================
# SERVICE PORTS
# ====================

# Service Port Configuration
CONTEXT_CAPTURE_PORT=8001
CONTEXT_PROCESSING_PORT=8002
CONTEXT_RETRIEVAL_PORT=8003
MEMORY_MANAGEMENT_PORT=8004

# ====================
# PERFORMANCE CONFIGURATION
# ====================

# Database Performance
MAX_CONNECTIONS=200
SHARED_BUFFERS=1GB
EFFECTIVE_CACHE_SIZE=3GB

# Vector Search Configuration
VECTOR_INDEX_LISTS=100
VECTOR_DIMENSION=1536
MAX_VECTOR_RESULTS=10

# Kafka Performance
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=5
KAFKA_RETENTION_MS=604800000  # 7 days

# Redis Performance
REDIS_MAXMEMORY=2gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ====================
# CONTEXT MEMORY SETTINGS
# ====================

# Context Retention Policies
CONTEXT_EVENT_RETENTION_DAYS=30
CONTEXT_INSIGHT_RETENTION_DAYS=365
KNOWLEDGE_NODE_RETENTION_DAYS=365

# Context Processing
MAX_CONTEXT_BATCH_SIZE=100
CONTEXT_COMPRESSION_ENABLED=true
SEMANTIC_SIMILARITY_THRESHOLD=0.75

# Memory Strategies
SEMANTIC_STRATEGY_ENABLED=true
SUMMARY_STRATEGY_ENABLED=true
PREFERENCE_STRATEGY_ENABLED=true
PROJECT_STRATEGY_ENABLED=true

# ====================
# MONITORING & ALERTS
# ====================

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_RETRIES=3

# Logging Configuration
LOG_FORMAT=json
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_MAX_AGE=30

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
PROMETHEUS_ENABLED=false

# ====================
# SECURITY SETTINGS
# ====================

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Security Headers
HELMET_ENABLED=true
CORS_ENABLED=true

# Data Protection
PII_DETECTION_ENABLED=true
DATA_ENCRYPTION_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# ====================
# DEVELOPMENT SETTINGS
# ====================

# Development Mode (set to false for production)
DEBUG_MODE=false
VERBOSE_LOGGING=false

# Testing Configuration
TEST_DATABASE_URL=postgresql://iris_user:test@postgres:5432/iris_test_db
MOCK_OPENAI_API=false

# ====================
# CLOUD PROVIDER SETTINGS
# ====================

# AWS Configuration (if using AWS services)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-2
AWS_S3_BUCKET=iris-context-backups

# Google Cloud Configuration
GCP_PROJECT_ID=your-gcp-project
GCP_SERVICE_ACCOUNT_KEY=path/to/service-account.json

# ====================
# BACKUP CONFIGURATION
# ====================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=iris-context-backups

# ====================
# INTEGRATION SETTINGS
# ====================

# External API Keys
MINIMAX_API_KEY=silhouette_integration_key_2025
HUGGINGFACE_API_KEY=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
ANTHROPIC_API_KEY=your-anthropic-api-key

# Webhook Configuration
WEBHOOK_SECRET=iris_webhook_secret_2025
WEBHOOK_ENABLED=false

# ====================
# ADVANCED SETTINGS
# ====================

# Vector Database Optimization
VECTOR_CACHE_SIZE=1000
VECTOR_INDEX_TYPE=ivfflat
VECTOR_METRIC=cosine

# Context Engineering
CONTEXT_WINDOW_SIZE=32000
CONTEXT_COMPRESSION_RATIO=0.8
SEMANTIC_EMBEDDING_MODEL=text-embedding-ada-002

# Knowledge Graph
NEO4J_MEMORY_HEAP=2g
NEO4J_MEMORY_PAGE_CACHE=1g
NEO4J_TRANSACTION_TIMEOUT=300s

# ====================
# DEPLOYMENT SETTINGS
# ====================

# Container Configuration
DOCKER_REGISTRY=your-registry.com
DOCKER_TAG=2.0.0
IMAGE_PULL_POLICY=IfNotPresent

# Resource Limits
POSTGRES_MEMORY_LIMIT=2g
NEO4J_MEMORY_LIMIT=4g
REDIS_MEMORY_LIMIT=1g
KAFKA_MEMORY_LIMIT=1g

# ====================
# NOTES
# ====================

# 1. Replace 'your-*' placeholders with actual values
# 2. Never commit this file with real API keys to version control
# 3. Use different passwords for development and production
# 4. Regularly rotate API keys and passwords
# 5. Monitor disk usage for vector database growth
# 6. Configure proper backup strategies for production use

# For support, see: /workspace/iris-v2.0/context-infrastructure/README.md